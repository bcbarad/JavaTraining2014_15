//package com.vl.training.sample;
import java.io.*;
public class IndentFile {
    public static void main(String[] args) {
        try {
            IndentFile.changeIndentation();
        } catch (IOException ie) {
              System.out.println(ie);
        }
    }
    public static void changeIndentation() throws IOException  {
       FileReader input = null;
       FileWriter output = null;
       try {
        input = new FileReader("input.txt");
        output =new FileWriter("output.txt");
        int c, depth = 0;
        boolean flag = false;
        while ((c = input.read()) != -1) {
             char ch = (char) c;
             if (c == '{') {
                depth += 4;
                output.write(ch);
             } else if (c == '}') {
                depth -= 4;
                for (int i = 0; i < depth; i++) {
                    output.write(" ");
                }
                output.write(ch);
            } else if (ch == ' ') {
                if (!flag) {
                    output.write(' ');
                }
            } else if (c == '\n') {
                output.write(ch);
                flag = true;
            } else {
                if (flag) {
                    for (int i = 0; i < depth; i++) {
                        output.write(' ');
                    }
                    flag = false;
                }
                output.write(c);
            }
          }
       } catch (IOException ie) {
            System.out.println(ie);
       }  finally {
               if (input != null) {
                  input.close();
               }
               if (output != null) {
                  output.close();
               }
        }
    }
} 
    
         
              



















